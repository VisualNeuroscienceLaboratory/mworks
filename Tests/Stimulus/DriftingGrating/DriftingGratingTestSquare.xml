<?xml version="1.0"?>
<monkeyml version="1.0">
    <io_devices/>
    <variables>
        <variable tag="speed" full_name="" default_value="1" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="direction" full_name="" default_value="0" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="rotation" full_name="" default_value="0" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="frequency" full_name="" default_value="0.333333333" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="mean" full_name="" default_value="0" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="std_dev" full_name="" default_value="0.3" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="width" full_name="" default_value="4" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
        <variable tag="height" full_name="" default_value="4" scope="GLOBAL" type="INTEGER" editable="ALWAYS" persistant="NO" logging="WHEN_CHANGED" groups="gratingVariables"/>
	</variables>
    <sounds/>
    <stimuli>
        <stimulus frames_per_second="30" statistics_reporting="0" error_reporting="0" tag="dg" inverted="1" mask="rectangle" type="drifting_grating" direction="direction" speed="speed" spatial_frequency="frequency" grating_type="square" x_size="width" y_size="height" x_position="3" y_position="3" rotation="rotation" affine_transform="0"/>
    </stimuli>
    <experiment tag="DriftingGrating">
        <protocol tag="Protocol" interruptible="YES" selection="sequential_ascending" nsamples="1" sampling_method="cycles">
            <block tag="Block" interruptible="YES" selection="sequential_ascending" nsamples="1" sampling_method="cycles">
                <task_system tag="Task System" full_name="TS" interruptible="YES">
                    <task_system_state tag="stimON" full_name="stimON" interruptible="YES">
                        <action type="live_queue_stimulus" stimulus="dg"/>
                        <action type="update_stimulus_display"/>
						<action type="play_dynamic_stimulus" stimulus="dg"/>
						<action type="wait" duration="45000ms"/>
                        <transition type="yield"/>
                    </task_system_state>
                </task_system>
            </block>
        </protocol>
    </experiment>
</monkeyml>
